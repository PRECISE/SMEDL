
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Essential API &#8212; SMEDL  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="RabbitMQ Transport" href="rabbitmq.html" />
    <link rel="prev" title="SMEDL Programming Interface" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">SMEDL</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../language/index.html">SMEDL Specification Language</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">SMEDL Programming Interface</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Essential API</a></li>
<li class="toctree-l2"><a class="reference internal" href="rabbitmq.html">RabbitMQ Transport</a></li>
<li class="toctree-l2"><a class="reference internal" href="ros.html">ROS Transport</a></li>
<li class="toctree-l2"><a class="reference internal" href="full_api.html">Full API</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">SMEDL Programming Interface</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">SMEDL Programming Interface</a></li>
      <li>Next: <a href="rabbitmq.html" title="next chapter">RabbitMQ Transport</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="essential-api">
<h1>Essential API<a class="headerlink" href="#essential-api" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Many file names and identifiers in this API contain placeholders for event,
monitor, and synchronous set names. These placeholders are marked by the use
of ALLCAPS.</p>
</div>
<p>The generated monitoring code is separated into multiple layers, ordered below
from lowest to highest. SMEDL specifications are used to generate the monitor
layer, and the rest are generated from the architecture specification.</p>
<dl class="simple">
<dt><strong>Monitor</strong></dt><dd><p>Actual monitor logic for a single SMEDL specification</p>
</dd>
<dt><strong>Local wrapper</strong></dt><dd><p>Manages instances, does unicast/multicast routing, and dynamic instantiation
for a single monitor</p>
</dd>
<dt><strong>Global wrapper</strong></dt><dd><p>Routes events within a single synchronous set to the proper local wrappers or
PEDL</p>
</dd>
<dt><strong>Transport adapters</strong></dt><dd><p>A “sibling” of the global wrapper in the hierarchy—sends and receives
asynchronous events over the selected transport mechanism (RabbitMQ, ROS,
etc.)</p>
</dd>
<dt><strong>Manager</strong></dt><dd><p>Initiates event handling at the global wrapper and transport adapters and
passes asynchronous events between them</p>
</dd>
</dl>
<p>Most programs will only need to interact with part of the global wrapper and
manager, so those are the only APIs described on this page. (The full API is
described at <a class="reference internal" href="full_api.html"><span class="doc">Full API</span></a>.)</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The target program interacts with SMEDL through PEDL events. First, it makes a
function call to emit an event. At that point, the event is queued, but the
call immediately returns. Then, it makes another call to pass control to the
manager. The manager allows all pending synchronous events to be processed and
asynchronous events to be sent. This call returns when there are no more events
immediately left to process (though there may still be asynchronous events
outstanding). Finally, the target program must provide functions of its own for
receiving PEDL events back from the monitors.</p>
<p>By default, SMEDL generates a PEDL stub that reads events from a CSV and does
all of the above. This allows the monitors to be buildable immediately and can
serve as demo code, but most real-world programs will want to replace most or
all of this file with actual instrumentation.</p>
<p>For asynchronous PEDL events (that is, those not explicitly placed in a
synchronous set), SMEDL generates a <code class="docutils literal notranslate"><span class="pre">pedl</span></code> synchronous set that does nothing
except send and receive PEDL events asynchronously. This allows for the same
API to be used, regardless of synchronization. But, if convenient, the <code class="docutils literal notranslate"><span class="pre">pedl</span></code>
synchronous set can be dropped, and the target program or its instrumentation
can send and receive events over the asynchronous message channels directly.
For more information on that, go back to <a class="reference internal" href="index.html"><span class="doc">SMEDL Programming Interface</span></a> and visit the page for
the appropriate asynchronous transport.</p>
</section>
<section id="smedl-types">
<h2>SMEDL Types<a class="headerlink" href="#smedl-types" title="Permalink to this headline">¶</a></h2>
<p>Most types in SMEDL correspond directly to a well-known type in C (see
<a class="reference internal" href="../language/smedl.html#types"><span class="std std-ref">Types</span></a>). The exception is the <code class="docutils literal notranslate"><span class="pre">opaque</span></code> type, represented in C by
<a class="reference internal" href="#c.SMEDLOpaque" title="SMEDLOpaque"><code class="xref c c-struct docutils literal notranslate"><span class="pre">SMEDLOpaque</span></code></a> from <code class="file docutils literal notranslate"><span class="pre">smedl_types.h</span></code>:</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.SMEDLOpaque">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SMEDLOpaque</span></span></span><a class="headerlink" href="#c.SMEDLOpaque" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>C type representing SMEDL’s <code class="docutils literal notranslate"><span class="pre">opaque</span></code> type</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.SMEDLOpaque.data">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">data</span></span></span><a class="headerlink" href="#c.SMEDLOpaque.data" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pointer to the opaque’s contents</p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.SMEDLOpaque.size">
<span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">size</span></span></span><a class="headerlink" href="#c.SMEDLOpaque.size" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Length of the opaque in bytes</p>
</dd></dl>

</dd></dl>

<p>For situations where C code needs to store or pass SMEDL values of arbitrary
type, there is <a class="reference internal" href="#c.SMEDLValue" title="SMEDLValue"><code class="xref c c-struct docutils literal notranslate"><span class="pre">SMEDLValue</span></code></a>, also in <code class="file docutils literal notranslate"><span class="pre">smedl_types.h</span></code>:</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.SMEDLValue">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SMEDLValue</span></span></span><a class="headerlink" href="#c.SMEDLValue" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Represents a SMEDL value of arbitrary type</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.SMEDLValue.t">
<a class="reference internal" href="#c.SMEDLType" title="SMEDLType"><span class="n"><span class="pre">SMEDLType</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">t</span></span></span><a class="headerlink" href="#c.SMEDLValue.t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>SMEDL type of this value</p>
</dd></dl>

<dl class="c union">
<dt class="sig sig-object c" id="c.SMEDLValue.v">
<span class="k"><span class="pre">union</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">v</span></span></span><a class="headerlink" href="#c.SMEDLValue.v" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Value itself, using the C type matching the <a class="reference internal" href="#c.SMEDLType" title="SMEDLType"><code class="xref c c-enum docutils literal notranslate"><span class="pre">SMEDLType</span></code></a></p>
<dl class="c var">
<dt class="sig sig-object c" id="c.SMEDLValue.v.i">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">i</span></span></span><a class="headerlink" href="#c.SMEDLValue.v.i" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.SMEDLValue.v.d">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">d</span></span></span><a class="headerlink" href="#c.SMEDLValue.v.d" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.SMEDLValue.v.c">
<span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">c</span></span></span><a class="headerlink" href="#c.SMEDLValue.v.c" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.SMEDLValue.v.s">
<span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">s</span></span></span><a class="headerlink" href="#c.SMEDLValue.v.s" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.SMEDLValue.v.p">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">p</span></span></span><a class="headerlink" href="#c.SMEDLValue.v.p" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.SMEDLValue.v.o">
<a class="reference internal" href="#c.SMEDLOpaque" title="SMEDLOpaque"><span class="n"><span class="pre">SMEDLOpaque</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">o</span></span></span><a class="headerlink" href="#c.SMEDLValue.v.o" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

</dd></dl>

<p>For the <a class="reference internal" href="#c.SMEDLValue.t" title="SMEDLValue.t"><code class="xref c c-var docutils literal notranslate"><span class="pre">t</span></code></a> member, there is a <a class="reference internal" href="#c.SMEDLType" title="SMEDLType"><code class="xref c c-enum docutils literal notranslate"><span class="pre">SMEDLType</span></code></a> enum:</p>
<dl class="c enum">
<dt class="sig sig-object c" id="c.SMEDLType">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SMEDLType</span></span></span><a class="headerlink" href="#c.SMEDLType" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Identifies one of the six SMEDL types</p>
<dl class="c enumerator">
<dt class="sig sig-object c" id="c.SMEDLType.SMEDL_INT">
<span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SMEDL_INT</span></span></span><a class="headerlink" href="#c.SMEDLType.SMEDL_INT" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.SMEDLType.SMEDL_FLOAT">
<span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SMEDL_FLOAT</span></span></span><a class="headerlink" href="#c.SMEDLType.SMEDL_FLOAT" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.SMEDLType.SMEDL_CHAR">
<span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SMEDL_CHAR</span></span></span><a class="headerlink" href="#c.SMEDLType.SMEDL_CHAR" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.SMEDLType.SMEDL_STRING">
<span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SMEDL_STRING</span></span></span><a class="headerlink" href="#c.SMEDLType.SMEDL_STRING" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.SMEDLType.SMEDL_POINTER">
<span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SMEDL_POINTER</span></span></span><a class="headerlink" href="#c.SMEDLType.SMEDL_POINTER" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.SMEDLType.SMEDL_OPAQUE">
<span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SMEDL_OPAQUE</span></span></span><a class="headerlink" href="#c.SMEDLType.SMEDL_OPAQUE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="c enumerator">
<dt class="sig sig-object c" id="c.SMEDLType.SMEDL_NULL">
<span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SMEDL_NULL</span></span></span><a class="headerlink" href="#c.SMEDLType.SMEDL_NULL" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Represents a wildcard parameter or a parameter that is irrelevant and
unknown</p>
</dd></dl>

</dd></dl>

</section>
<section id="event-passing-conventions">
<span id="event-conventions"></span><h2>Event Passing Conventions<a class="headerlink" href="#event-passing-conventions" title="Permalink to this headline">¶</a></h2>
<p>Many functions in the SMEDL API are used to pass events from one place to
another. For consistency, all of these functions use the same signature:</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.event_passing_function">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">event_passing_function</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.SMEDLValue" title="SMEDLValue"><span class="n"><span class="pre">SMEDLValue</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">identities</span></span>, <a class="reference internal" href="#c.SMEDLValue" title="SMEDLValue"><span class="n"><span class="pre">SMEDLValue</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">params</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">aux</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.event_passing_function" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The signature used by every event-passing function in SMEDL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>identities</strong> – An array of monitor identities, either the source monitor
(for an exported event) or the destination monitor (for
an imported event). If the monitor has no identities or
or it is a PEDL event, this parameter is ignored and can
be safely set to NULL.</p></li>
<li><p><strong>params</strong> – An array of the event parameters.</p></li>
<li><p><strong>aux</strong> – Auxiliary data pointer. When one event causes another to be
raised, this pointer is passed through untouched. This can be
used for provenance information or any other purpose. Some
asynchronous transports expect this to point to a particular
type of data. NULL is always allowed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Nonzero for success, zero for error</p>
</dd>
</dl>
</dd></dl>

<p>Note that there is no need to specify the length for the <code class="xref c c-var docutils literal notranslate"><span class="pre">identities</span></code> or
<code class="xref c c-var docutils literal notranslate"><span class="pre">params</span></code> parameters since they are known from the architecture
specification.</p>
<p>The convention that SMEDL follows is that the caller retains responsibility for
any allocated memory passed as a parameter. Thus, any event handling function
that receives parameter arrays must make a copy if they need to be retained
after returning, and the same goes for the contents of any string or opaque
values.</p>
</section>
<section id="initialization-and-cleanup">
<h2>Initialization and Cleanup<a class="headerlink" href="#initialization-and-cleanup" title="Permalink to this headline">¶</a></h2>
<p>Before emitting any PEDL events or running the manager, SMEDL must be
initialized. If SMEDL is no longer needed, it can also be deinitialized to free
resources. Both of these functions are in the manager,
<code class="file docutils literal notranslate"><span class="pre">SYNCSET_manager.h</span></code>.</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.init_manager">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">init_manager</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.init_manager" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initialize SMEDL. Must be called before any other function in the SMEDL API.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Nonzero for success, zero for error</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.free_manager">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">free_manager</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.free_manager" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Destroy all monitors and wrappers, close all connections, and free the
resources used by SMEDL. May be called if SMEDL monitoring is no longer
required.</p>
</dd></dl>

</section>
<section id="emitting-pedl-events">
<h2>Emitting PEDL Events<a class="headerlink" href="#emitting-pedl-events" title="Permalink to this headline">¶</a></h2>
<p>PEDL events are sent to PEDL by calling the following function in the global
wrapper, <code class="file docutils literal notranslate"><span class="pre">SYNCSET_global_wrapper.h</span></code>:</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.raise_pedl_EVENT">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">raise_pedl_EVENT</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.SMEDLValue" title="SMEDLValue"><span class="n"><span class="pre">SMEDLValue</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">identities</span></span>, <a class="reference internal" href="#c.SMEDLValue" title="SMEDLValue"><span class="n"><span class="pre">SMEDLValue</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">params</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">aux</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.raise_pedl_EVENT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Raise a PEDL event. This function queues the event for later processing and
immediately returns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>identities</strong> – This parameter is provided for consistency with other
event passing functions. It is ignored and may safely be
set to NULL.</p></li>
<li><p><strong>params</strong> – Array of event parameters</p></li>
<li><p><strong>aux</strong> – Auxiliary data pointer. This pointer is passed through to any
events triggered by this one. This can be used for provenance
information or any other purpose.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Nonzero for success, zero for error</p>
</dd>
</dl>
</dd></dl>

<p>To actually process the event, the program must call <a class="reference internal" href="#c.run_manager" title="run_manager"><code class="xref c c-func docutils literal notranslate"><span class="pre">run_manager()</span></code></a>.</p>
</section>
<section id="receiving-pedl-events">
<h2>Receiving PEDL Events<a class="headerlink" href="#receiving-pedl-events" title="Permalink to this headline">¶</a></h2>
<p>Whenever <a class="reference internal" href="#c.run_manager" title="run_manager"><code class="xref c c-func docutils literal notranslate"><span class="pre">run_manager()</span></code></a> is called, it is possible that there might be some
PEDL events for the target program to receive back. For each PEDL event that
can be received, the target program must provide the following function:</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.perform_pedl_EVENT">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">perform_pedl_EVENT</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.SMEDLValue" title="SMEDLValue"><span class="n"><span class="pre">SMEDLValue</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">identities</span></span>, <a class="reference internal" href="#c.SMEDLValue" title="SMEDLValue"><span class="n"><span class="pre">SMEDLValue</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">params</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">aux</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.perform_pedl_EVENT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Receive a PEDL event. Called by SMEDL whenever a PEDL event needs to be
returned to the target program.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>identities</strong> – This parameter is provided for consistency with other
event passing functions. It will be set to NULL.</p></li>
<li><p><strong>params</strong> – Array of event parameters</p></li>
<li><p><strong>aux</strong> – Auxiliary data pointer. This pointer is passed through directly
from whatever event triggered this one.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Nonzero for success, zero for error</p>
</dd>
</dl>
</dd></dl>

<p>As noted in <a class="reference internal" href="#event-conventions"><span class="std std-ref">Event Passing Conventions</span></a>, the parameter array and the contents of
any strings and opaques may become invalid at any point after the function
returns. If they are needed longer than that, be sure to keep a copy.</p>
</section>
<section id="running-smedl">
<h2>Running SMEDL<a class="headerlink" href="#running-smedl" title="Permalink to this headline">¶</a></h2>
<p>SMEDL does not process PEDL and asynchronous events as soon as they are queued.
It only happens when initiated by calling the following function in the
manager, <code class="file docutils literal notranslate"><span class="pre">SYNCSET_manager.h</span></code>:</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.run_manager">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">run_manager</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.run_manager" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Allow SMEDL to run. When called, the following happens:</p>
<ol class="arabic simple">
<li><p>SMEDL processes any pending PEDL events.</p></li>
<li><p>SMEDL processes any events raised as a result. Synchronous events are
passed to the appropriate destination within the synchronous set.
Asynchronous events are passed to the transport adapter to be sent
out. This continues until there are no more events pending in the
global wrapper.</p></li>
<li><p>The transport adapter is given a chance to receive any incoming
asynchronous events that are ready. These are passed along to the
global wrapper for processing, and any events raised as a result are
handled as in #2.</p></li>
</ol>
<p>Then, the function returns.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Nonzero for success, zero for error</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="index.html" title="Previous document">SMEDL Programming Interface</a>
        </li>
        <li>
          <a href="rabbitmq.html" title="Next document">RabbitMQ Transport</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy; 2021 The Trustees of the University of Pennsylvania.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/api/api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>