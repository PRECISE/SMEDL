object PQueue
identity
  opaque id;
state
  int p1, p2, p3, p4, p5;
events
  imported pop(int), push(int);
scenarios
  push:
    Ready -> push(x) when x == 1 { p1++; } -> Ready
    Ready -> push(x) when x == 2 { p2++; } -> Ready
    Ready -> push(x) when x == 3 { p3++; } -> Ready
    Ready -> push(x) when x == 4 { p4++; } -> Ready
    Ready -> push(x) when x == 5 { p5++; } -> Ready
  pop:
    Ready -> pop(x) when x == 1 && p1 > 0 { p1--; } -> Ready
        else -> Error
    Ready -> pop(x) when x == 2 && p1 == 0 && p2 > 0 { p2--; } -> Ready
        else -> Error
    Ready -> pop(x) when x == 3 && p1 == 0 && p2 == 0 && p3 > 0 { p3--; } -> Ready
        else -> Error
    Ready -> pop(x) when x == 4 && p1 == 0 && p2 == 0 && p3 == 0 && p4 > 0 { p4--; } -> Ready
        else -> Error
    Ready -> pop(x) when x == 5 && p1 == 0 && p2 == 0 && p3 == 0 && p4 == 0 && p5 > 0 { p5--; } -> Ready
        else -> Error